{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mughal_Here\\\\Desktop\\\\HMR Project\\\\frontend\\\\src\\\\pages\\\\organization\\\\OrgInvestmentsManagement.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo } from 'react';\nimport { useQuery } from 'react-query';\nimport { Search, TrendingUp, Building2, User, DollarSign, Calendar, CheckCircle, Clock, XCircle } from 'lucide-react';\nimport Card from '../../components/ui/Card';\nimport Button from '../../components/ui/Button';\nimport Badge from '../../components/ui/Badge';\nimport { organizationsAPI, adminAPI } from '../../services/api';\nimport { useOrganizationAuth } from '../../components/organization/OrganizationAuth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OrgInvestmentsManagement = ({\n  organizationId\n}) => {\n  _s();\n  var _investmentsData$data, _investmentsData$data2, _investmentsData$data3, _analyticsData$data, _analyticsData$data2, _analyticsData$data2$;\n  const {\n    isAuthenticated,\n    organizationName\n  } = useOrganizationAuth();\n  const [filters, setFilters] = useState({\n    search: '',\n    status: ''\n  });\n\n  // Fetch investments using organization API (with fallback)\n  const {\n    data: investmentsData,\n    isLoading,\n    error\n  } = useQuery(['org-investments', organizationId], async () => {\n    try {\n      console.log('ðŸ”„ Fetching investments for organization:', organizationId);\n      // Try organization-specific endpoint first\n      const response = await organizationsAPI.getInvestments(organizationId);\n      console.log('âœ… Investments API Response (org endpoint):', response);\n      return response;\n    } catch (error) {\n      console.log('â„¹ï¸ Organization investments endpoint not available, using fallback with filter');\n      // Fallback to filtered admin endpoint\n      const response = await adminAPI.getInvestments({\n        limit: 1000,\n        organizationId: organizationId\n      });\n      console.log('âœ… Investments API Response (admin endpoint):', response);\n      return response;\n    }\n  }, {\n    retry: 1,\n    refetchOnWindowFocus: false,\n    enabled: isAuthenticated && !!organizationId\n  });\n\n  // ALSO fetch Investment Analytics for accurate totals\n  const {\n    data: analyticsData\n  } = useQuery(['org-investment-analytics', organizationId], async () => {\n    try {\n      console.log('ðŸ“Š Fetching investment analytics for organization:', organizationId);\n      const response = await organizationsAPI.getInvestmentAnalytics(organizationId);\n      console.log('âœ… Investment Analytics Response:', response);\n      return response;\n    } catch (error) {\n      console.error('âŒ Investment Analytics fetch error:', error);\n      return null;\n    }\n  }, {\n    retry: 1,\n    enabled: isAuthenticated && !!organizationId\n  });\n  const investments = (investmentsData === null || investmentsData === void 0 ? void 0 : (_investmentsData$data = investmentsData.data) === null || _investmentsData$data === void 0 ? void 0 : (_investmentsData$data2 = _investmentsData$data.data) === null || _investmentsData$data2 === void 0 ? void 0 : _investmentsData$data2.investments) || (investmentsData === null || investmentsData === void 0 ? void 0 : (_investmentsData$data3 = investmentsData.data) === null || _investmentsData$data3 === void 0 ? void 0 : _investmentsData$data3.investments) || (investmentsData === null || investmentsData === void 0 ? void 0 : investmentsData.data) || (Array.isArray(investmentsData) ? investmentsData : []);\n  const analytics = (analyticsData === null || analyticsData === void 0 ? void 0 : (_analyticsData$data = analyticsData.data) === null || _analyticsData$data === void 0 ? void 0 : _analyticsData$data.analytics) || (analyticsData === null || analyticsData === void 0 ? void 0 : (_analyticsData$data2 = analyticsData.data) === null || _analyticsData$data2 === void 0 ? void 0 : (_analyticsData$data2$ = _analyticsData$data2.data) === null || _analyticsData$data2$ === void 0 ? void 0 : _analyticsData$data2$.analytics) || {};\n\n  // Debug: Log first investment structure\n  React.useEffect(() => {\n    if (investments.length > 0) {\n      console.log('ðŸ“Š First Investment Structure:', investments[0]);\n      console.log('ðŸ’° Investment Analytics:', analytics);\n    }\n  }, [investments, analytics]);\n\n  // Helper functions for field extraction\n  const getInvestmentAmount = inv => {\n    return parseFloat(inv.amountUSDT || inv.amount_usdt || inv.amount || inv.invested_amount || inv.investmentAmount || 0);\n  };\n  const getTokenCount = inv => {\n    return parseFloat(inv.tokensPurchased || inv.tokens_purchased || inv.tokensToBuy || inv.tokens_bought || inv.tokens || inv.tokensBought || 0);\n  };\n  const getInvestorName = inv => {\n    // Try nested user object first\n    if (inv.user && (inv.user.fullName || inv.user.name)) {\n      return inv.user.fullName || inv.user.name;\n    }\n    // Fallback to flat fields\n    return inv.user_name || inv.investor_name || inv.fullName || 'Unknown';\n  };\n  const getPropertyName = inv => {\n    var _inv$property;\n    // Try nested property object first\n    if (inv.property && inv.property.title) {\n      return inv.property.title;\n    }\n    // Fallback to flat fields\n    return inv.property_name || inv.propertyName || ((_inv$property = inv.property) === null || _inv$property === void 0 ? void 0 : _inv$property.name) || 'N/A';\n  };\n\n  // Frontend filtering\n  const filteredInvestments = useMemo(() => {\n    let filtered = [...investments];\n    if (filters.search) {\n      const searchLower = filters.search.toLowerCase();\n      filtered = filtered.filter(inv => {\n        const propertyName = getPropertyName(inv).toLowerCase();\n        const investorName = getInvestorName(inv).toLowerCase();\n        const displayCode = (inv.displayCode || inv.id || '').toLowerCase();\n        return propertyName.includes(searchLower) || investorName.includes(searchLower) || displayCode.includes(searchLower);\n      });\n    }\n    if (filters.status) {\n      filtered = filtered.filter(inv => (inv.status || '').toLowerCase() === filters.status.toLowerCase());\n    }\n    return filtered;\n  }, [investments, filters]);\n  const handleFilterChange = (key, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n  const formatCurrency = amount => {\n    if (!amount) return 'USD 0';\n    return `USD ${parseFloat(amount).toLocaleString()}`;\n  };\n  const formatDate = dateString => {\n    if (!dateString) return 'N/A';\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n  const getStatusBadge = status => {\n    const statusLower = (status || '').toLowerCase();\n    switch (statusLower) {\n      case 'active':\n        return /*#__PURE__*/_jsxDEV(Badge, {\n          variant: \"green\",\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n            className: \"w-3 h-3 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), \"Active\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this);\n      case 'pending':\n        return /*#__PURE__*/_jsxDEV(Badge, {\n          variant: \"yellow\",\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Clock, {\n            className: \"w-3 h-3 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), \"Pending\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this);\n      case 'completed':\n        return /*#__PURE__*/_jsxDEV(Badge, {\n          variant: \"blue\",\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n            className: \"w-3 h-3 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), \"Completed\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this);\n      case 'cancelled':\n        return /*#__PURE__*/_jsxDEV(Badge, {\n          variant: \"red\",\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(XCircle, {\n            className: \"w-3 h-3 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this), \"Cancelled\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Badge, {\n          variant: \"gray\",\n          children: status || 'Unknown'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 16\n        }, this);\n    }\n  };\n\n  // Calculate summary statistics\n  // PRIORITY: Use Analytics API totals > Manual calculation\n  const summary = useMemo(() => {\n    // Use Analytics API if available (more accurate, backend-calculated)\n    const totalInvestment = analytics.totalAmountUSDT ? parseFloat(analytics.totalAmountUSDT) : filteredInvestments.reduce((sum, inv) => sum + getInvestmentAmount(inv), 0);\n    const totalTokens = analytics.totalTokensPurchased ? parseFloat(analytics.totalTokensPurchased) : filteredInvestments.reduce((sum, inv) => sum + getTokenCount(inv), 0);\n    const activeInvestments = analytics.activeInvestments ? analytics.activeInvestments : filteredInvestments.filter(inv => (inv.status || '').toLowerCase() === 'active' || (inv.status || '').toLowerCase() === 'confirmed').length;\n    const pendingInvestments = analytics.pendingInvestments ? analytics.pendingInvestments : filteredInvestments.filter(inv => (inv.status || '').toLowerCase() === 'pending').length;\n    const averageInvestment = analytics.averageInvestmentAmount ? parseFloat(analytics.averageInvestmentAmount) : filteredInvestments.length > 0 ? totalInvestment / filteredInvestments.length : 0;\n    console.log(`ðŸ’° ${organizationName} Investment Summary (using ${analytics.totalAmountUSDT ? 'ANALYTICS API' : 'MANUAL CALC'}):`, {\n      totalInvestment,\n      totalTokens,\n      activeInvestments,\n      pendingInvestments,\n      averageInvestment,\n      totalCount: filteredInvestments.length,\n      dataSource: analytics.totalAmountUSDT ? 'Investment Analytics API' : 'Manual Calculation'\n    });\n    return {\n      totalInvestment,\n      totalTokens,\n      activeInvestments,\n      pendingInvestments,\n      averageInvestment\n    };\n  }, [filteredInvestments, analytics, organizationName]);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center py-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-gray-600\",\n          children: \"Loading investments...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-600\",\n        children: \"Failed to load investments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => window.location.reload(),\n        className: \"mt-4\",\n        children: \"Retry\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: \"Investments Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: [\"Monitor all property investments\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-2 text-blue-600 font-medium\",\n            children: [\"(\", filteredInvestments.length, \" \", filteredInvestments.length === 1 ? 'investment' : 'investments', \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-4 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        className: \"p-6 border-l-4 border-blue-500\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Total Investments\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-gray-900 mt-1\",\n              children: formatCurrency(summary.totalInvestment)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-1\",\n              children: [filteredInvestments.length, \" investments\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 bg-blue-100 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(DollarSign, {\n              className: \"w-6 h-6 text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"p-6 border-l-4 border-purple-500\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Total Tokens\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-gray-900 mt-1\",\n              children: summary.totalTokens.toLocaleString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-1\",\n              children: [\"Avg: \", (filteredInvestments.length > 0 ? summary.totalTokens / filteredInvestments.length : 0).toFixed(2), \" per investment\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 bg-purple-100 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(TrendingUp, {\n              className: \"w-6 h-6 text-purple-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"p-6 border-l-4 border-green-500\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Active Investments\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-gray-900 mt-1\",\n              children: summary.activeInvestments\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-1\",\n              children: [summary.pendingInvestments, \" pending\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 bg-green-100 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(CheckCircle, {\n              className: \"w-6 h-6 text-green-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"p-6 border-l-4 border-orange-500\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Avg Investment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-gray-900 mt-1\",\n              children: formatCurrency(summary.averageInvestment)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-1\",\n              children: \"per investor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 bg-orange-100 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(TrendingUp, {\n              className: \"w-6 h-6 text-orange-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              className: \"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search investments...\",\n              value: filters.search,\n              onChange: e => handleFilterChange('search', e.target.value),\n              className: \"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filters.status,\n            onChange: e => handleFilterChange('status', e.target.value),\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"All Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"active\",\n              children: \"Active\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"pending\",\n              children: \"Pending\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"completed\",\n              children: \"Completed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"cancelled\",\n              children: \"Cancelled\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"overflow-hidden\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Investor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Property\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Tokens\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-white divide-y divide-gray-200\",\n            children: filteredInvestments.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"6\",\n                className: \"px-6 py-12 text-center\",\n                children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n                  className: \"w-12 h-12 text-gray-400 mx-auto mb-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-medium text-gray-900 mb-2\",\n                  children: \"No investments found\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-500\",\n                  children: \"No investments match your current filters\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 17\n            }, this) : filteredInvestments.map(investment => {\n              var _investment$user, _investment$property;\n              const amount = getInvestmentAmount(investment);\n              const tokens = getTokenCount(investment);\n              const investorName = getInvestorName(investment);\n              const propertyName = getPropertyName(investment);\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"hover:bg-gray-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(User, {\n                      className: \"w-4 h-4 text-gray-400 mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 449,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-sm font-medium text-gray-900\",\n                        children: investorName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 451,\n                        columnNumber: 29\n                      }, this), ((_investment$user = investment.user) === null || _investment$user === void 0 ? void 0 : _investment$user.email) && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs text-gray-500\",\n                        children: investment.user.email\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 455,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 450,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 448,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(Building2, {\n                      className: \"w-4 h-4 text-gray-400 mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 464,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-sm text-gray-900\",\n                        children: propertyName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 466,\n                        columnNumber: 29\n                      }, this), ((_investment$property = investment.property) === null || _investment$property === void 0 ? void 0 : _investment$property.displayCode) && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs text-gray-500\",\n                        children: investment.property.displayCode\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 470,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 465,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 463,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm font-semibold text-green-600\",\n                    children: formatCurrency(amount)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 478,\n                    columnNumber: 25\n                  }, this), investment.displayCode && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-500 font-mono\",\n                    children: investment.displayCode\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 482,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm font-semibold text-purple-600\",\n                    children: [tokens.toLocaleString(), \" tokens\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 487,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: getStatusBadge(investment.status)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 492,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center text-sm text-gray-500\",\n                    children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                      className: \"w-3 h-3 mr-2 text-gray-400\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 497,\n                      columnNumber: 27\n                    }, this), formatDate(investment.created_at || investment.createdAt)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 496,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 23\n                }, this)]\n              }, investment.id || investment.displayCode, true, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 284,\n    columnNumber: 5\n  }, this);\n};\n_s(OrgInvestmentsManagement, \"CRuhQLyyXjQALS8TdWmUWluDTL8=\", false, function () {\n  return [useOrganizationAuth, useQuery, useQuery];\n});\n_c = OrgInvestmentsManagement;\nexport default OrgInvestmentsManagement;\nvar _c;\n$RefreshReg$(_c, \"OrgInvestmentsManagement\");","map":{"version":3,"names":["React","useState","useMemo","useQuery","Search","TrendingUp","Building2","User","DollarSign","Calendar","CheckCircle","Clock","XCircle","Card","Button","Badge","organizationsAPI","adminAPI","useOrganizationAuth","jsxDEV","_jsxDEV","OrgInvestmentsManagement","organizationId","_s","_investmentsData$data","_investmentsData$data2","_investmentsData$data3","_analyticsData$data","_analyticsData$data2","_analyticsData$data2$","isAuthenticated","organizationName","filters","setFilters","search","status","data","investmentsData","isLoading","error","console","log","response","getInvestments","limit","retry","refetchOnWindowFocus","enabled","analyticsData","getInvestmentAnalytics","investments","Array","isArray","analytics","useEffect","length","getInvestmentAmount","inv","parseFloat","amountUSDT","amount_usdt","amount","invested_amount","investmentAmount","getTokenCount","tokensPurchased","tokens_purchased","tokensToBuy","tokens_bought","tokens","tokensBought","getInvestorName","user","fullName","name","user_name","investor_name","getPropertyName","_inv$property","property","title","property_name","propertyName","filteredInvestments","filtered","searchLower","toLowerCase","filter","investorName","displayCode","id","includes","handleFilterChange","key","value","prev","formatCurrency","toLocaleString","formatDate","dateString","Date","toLocaleDateString","year","month","day","getStatusBadge","statusLower","variant","className","children","fileName","_jsxFileName","lineNumber","columnNumber","summary","totalInvestment","totalAmountUSDT","reduce","sum","totalTokens","totalTokensPurchased","activeInvestments","pendingInvestments","averageInvestment","averageInvestmentAmount","totalCount","dataSource","onClick","window","location","reload","toFixed","type","placeholder","onChange","e","target","colSpan","map","investment","_investment$user","_investment$property","email","created_at","createdAt","_c","$RefreshReg$"],"sources":["C:/Users/Mughal_Here/Desktop/HMR Project/frontend/src/pages/organization/OrgInvestmentsManagement.js"],"sourcesContent":["import React, { useState, useMemo } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { \r\n  Search, \r\n  TrendingUp,\r\n  Building2,\r\n  User,\r\n  DollarSign,\r\n  Calendar,\r\n  CheckCircle,\r\n  Clock,\r\n  XCircle\r\n} from 'lucide-react';\r\nimport Card from '../../components/ui/Card';\r\nimport Button from '../../components/ui/Button';\r\nimport Badge from '../../components/ui/Badge';\r\nimport { organizationsAPI, adminAPI } from '../../services/api';\r\nimport { useOrganizationAuth } from '../../components/organization/OrganizationAuth';\r\n\r\nconst OrgInvestmentsManagement = ({ organizationId }) => {\r\n  const { isAuthenticated, organizationName } = useOrganizationAuth();\r\n  \r\n  const [filters, setFilters] = useState({\r\n    search: '',\r\n    status: ''\r\n  });\r\n\r\n  // Fetch investments using organization API (with fallback)\r\n  const { data: investmentsData, isLoading, error } = useQuery(\r\n    ['org-investments', organizationId],\r\n    async () => {\r\n      try {\r\n        console.log('ðŸ”„ Fetching investments for organization:', organizationId);\r\n        // Try organization-specific endpoint first\r\n        const response = await organizationsAPI.getInvestments(organizationId);\r\n        console.log('âœ… Investments API Response (org endpoint):', response);\r\n        return response;\r\n      } catch (error) {\r\n        console.log('â„¹ï¸ Organization investments endpoint not available, using fallback with filter');\r\n        // Fallback to filtered admin endpoint\r\n        const response = await adminAPI.getInvestments({\r\n          limit: 1000,\r\n          organizationId: organizationId\r\n        });\r\n        console.log('âœ… Investments API Response (admin endpoint):', response);\r\n        return response;\r\n      }\r\n    },\r\n    {\r\n      retry: 1,\r\n      refetchOnWindowFocus: false,\r\n      enabled: isAuthenticated && !!organizationId\r\n    }\r\n  );\r\n\r\n  // ALSO fetch Investment Analytics for accurate totals\r\n  const { data: analyticsData } = useQuery(\r\n    ['org-investment-analytics', organizationId],\r\n    async () => {\r\n      try {\r\n        console.log('ðŸ“Š Fetching investment analytics for organization:', organizationId);\r\n        const response = await organizationsAPI.getInvestmentAnalytics(organizationId);\r\n        console.log('âœ… Investment Analytics Response:', response);\r\n        return response;\r\n      } catch (error) {\r\n        console.error('âŒ Investment Analytics fetch error:', error);\r\n        return null;\r\n      }\r\n    },\r\n    {\r\n      retry: 1,\r\n      enabled: isAuthenticated && !!organizationId\r\n    }\r\n  );\r\n\r\n  const investments = investmentsData?.data?.data?.investments || \r\n                     investmentsData?.data?.investments || \r\n                     investmentsData?.data || \r\n                     (Array.isArray(investmentsData) ? investmentsData : []);\r\n\r\n  const analytics = analyticsData?.data?.analytics || analyticsData?.data?.data?.analytics || {};\r\n  \r\n  // Debug: Log first investment structure\r\n  React.useEffect(() => {\r\n    if (investments.length > 0) {\r\n      console.log('ðŸ“Š First Investment Structure:', investments[0]);\r\n      console.log('ðŸ’° Investment Analytics:', analytics);\r\n    }\r\n  }, [investments, analytics]);\r\n\r\n  // Helper functions for field extraction\r\n  const getInvestmentAmount = (inv) => {\r\n    return parseFloat(\r\n      inv.amountUSDT || \r\n      inv.amount_usdt || \r\n      inv.amount || \r\n      inv.invested_amount || \r\n      inv.investmentAmount || \r\n      0\r\n    );\r\n  };\r\n\r\n  const getTokenCount = (inv) => {\r\n    return parseFloat(\r\n      inv.tokensPurchased ||\r\n      inv.tokens_purchased ||\r\n      inv.tokensToBuy || \r\n      inv.tokens_bought || \r\n      inv.tokens || \r\n      inv.tokensBought ||\r\n      0\r\n    );\r\n  };\r\n\r\n  const getInvestorName = (inv) => {\r\n    // Try nested user object first\r\n    if (inv.user && (inv.user.fullName || inv.user.name)) {\r\n      return inv.user.fullName || inv.user.name;\r\n    }\r\n    // Fallback to flat fields\r\n    return inv.user_name || inv.investor_name || inv.fullName || 'Unknown';\r\n  };\r\n\r\n  const getPropertyName = (inv) => {\r\n    // Try nested property object first\r\n    if (inv.property && inv.property.title) {\r\n      return inv.property.title;\r\n    }\r\n    // Fallback to flat fields\r\n    return inv.property_name || inv.propertyName || inv.property?.name || 'N/A';\r\n  };\r\n\r\n  // Frontend filtering\r\n  const filteredInvestments = useMemo(() => {\r\n    let filtered = [...investments];\r\n    \r\n    if (filters.search) {\r\n      const searchLower = filters.search.toLowerCase();\r\n      filtered = filtered.filter(inv => {\r\n        const propertyName = getPropertyName(inv).toLowerCase();\r\n        const investorName = getInvestorName(inv).toLowerCase();\r\n        const displayCode = (inv.displayCode || inv.id || '').toLowerCase();\r\n        \r\n        return propertyName.includes(searchLower) ||\r\n               investorName.includes(searchLower) ||\r\n               displayCode.includes(searchLower);\r\n      });\r\n    }\r\n    \r\n    if (filters.status) {\r\n      filtered = filtered.filter(inv =>\r\n        (inv.status || '').toLowerCase() === filters.status.toLowerCase()\r\n      );\r\n    }\r\n    \r\n    return filtered;\r\n  }, [investments, filters]);\r\n\r\n  const handleFilterChange = (key, value) => {\r\n    setFilters(prev => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    if (!amount) return 'USD 0';\r\n    return `USD ${parseFloat(amount).toLocaleString()}`;\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'N/A';\r\n    return new Date(dateString).toLocaleDateString('en-US', { \r\n      year: 'numeric', \r\n      month: 'short', \r\n      day: 'numeric' \r\n    });\r\n  };\r\n\r\n  const getStatusBadge = (status) => {\r\n    const statusLower = (status || '').toLowerCase();\r\n    switch (statusLower) {\r\n      case 'active':\r\n        return (\r\n          <Badge variant=\"green\" className=\"flex items-center\">\r\n            <CheckCircle className=\"w-3 h-3 mr-1\" />\r\n            Active\r\n          </Badge>\r\n        );\r\n      case 'pending':\r\n        return (\r\n          <Badge variant=\"yellow\" className=\"flex items-center\">\r\n            <Clock className=\"w-3 h-3 mr-1\" />\r\n            Pending\r\n          </Badge>\r\n        );\r\n      case 'completed':\r\n        return (\r\n          <Badge variant=\"blue\" className=\"flex items-center\">\r\n            <CheckCircle className=\"w-3 h-3 mr-1\" />\r\n            Completed\r\n          </Badge>\r\n        );\r\n      case 'cancelled':\r\n        return (\r\n          <Badge variant=\"red\" className=\"flex items-center\">\r\n            <XCircle className=\"w-3 h-3 mr-1\" />\r\n            Cancelled\r\n          </Badge>\r\n        );\r\n      default:\r\n        return <Badge variant=\"gray\">{status || 'Unknown'}</Badge>;\r\n    }\r\n  };\r\n\r\n  // Calculate summary statistics\r\n  // PRIORITY: Use Analytics API totals > Manual calculation\r\n  const summary = useMemo(() => {\r\n    // Use Analytics API if available (more accurate, backend-calculated)\r\n    const totalInvestment = analytics.totalAmountUSDT \r\n      ? parseFloat(analytics.totalAmountUSDT)\r\n      : filteredInvestments.reduce((sum, inv) => sum + getInvestmentAmount(inv), 0);\r\n    \r\n    const totalTokens = analytics.totalTokensPurchased\r\n      ? parseFloat(analytics.totalTokensPurchased)\r\n      : filteredInvestments.reduce((sum, inv) => sum + getTokenCount(inv), 0);\r\n    \r\n    const activeInvestments = analytics.activeInvestments \r\n      ? analytics.activeInvestments\r\n      : filteredInvestments.filter(inv => \r\n          (inv.status || '').toLowerCase() === 'active' || \r\n          (inv.status || '').toLowerCase() === 'confirmed'\r\n        ).length;\r\n\r\n    const pendingInvestments = analytics.pendingInvestments\r\n      ? analytics.pendingInvestments\r\n      : filteredInvestments.filter(inv => \r\n          (inv.status || '').toLowerCase() === 'pending'\r\n        ).length;\r\n\r\n    const averageInvestment = analytics.averageInvestmentAmount\r\n      ? parseFloat(analytics.averageInvestmentAmount)\r\n      : (filteredInvestments.length > 0 ? totalInvestment / filteredInvestments.length : 0);\r\n    \r\n    console.log(`ðŸ’° ${organizationName} Investment Summary (using ${analytics.totalAmountUSDT ? 'ANALYTICS API' : 'MANUAL CALC'}):`, {\r\n      totalInvestment,\r\n      totalTokens,\r\n      activeInvestments,\r\n      pendingInvestments,\r\n      averageInvestment,\r\n      totalCount: filteredInvestments.length,\r\n      dataSource: analytics.totalAmountUSDT ? 'Investment Analytics API' : 'Manual Calculation'\r\n    });\r\n    \r\n    return { \r\n      totalInvestment, \r\n      totalTokens, \r\n      activeInvestments, \r\n      pendingInvestments,\r\n      averageInvestment \r\n    };\r\n  }, [filteredInvestments, analytics, organizationName]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-12\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Loading investments...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"text-center py-12\">\r\n        <p className=\"text-red-600\">Failed to load investments</p>\r\n        <Button onClick={() => window.location.reload()} className=\"mt-4\">\r\n          Retry\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-gray-900\">Investments Management</h2>\r\n          <p className=\"text-gray-600\">\r\n            Monitor all property investments\r\n            <span className=\"ml-2 text-blue-600 font-medium\">\r\n              ({filteredInvestments.length} {filteredInvestments.length === 1 ? 'investment' : 'investments'})\r\n            </span>\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Summary Cards */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\r\n        <Card className=\"p-6 border-l-4 border-blue-500\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Total Investments</p>\r\n              <p className=\"text-2xl font-bold text-gray-900 mt-1\">\r\n                {formatCurrency(summary.totalInvestment)}\r\n              </p>\r\n              <p className=\"text-xs text-gray-500 mt-1\">\r\n                {filteredInvestments.length} investments\r\n              </p>\r\n            </div>\r\n            <div className=\"p-3 bg-blue-100 rounded-lg\">\r\n              <DollarSign className=\"w-6 h-6 text-blue-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6 border-l-4 border-purple-500\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Total Tokens</p>\r\n              <p className=\"text-2xl font-bold text-gray-900 mt-1\">\r\n                {summary.totalTokens.toLocaleString()}\r\n              </p>\r\n              <p className=\"text-xs text-gray-500 mt-1\">\r\n                Avg: {(filteredInvestments.length > 0 ? summary.totalTokens / filteredInvestments.length : 0).toFixed(2)} per investment\r\n              </p>\r\n            </div>\r\n            <div className=\"p-3 bg-purple-100 rounded-lg\">\r\n              <TrendingUp className=\"w-6 h-6 text-purple-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6 border-l-4 border-green-500\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Active Investments</p>\r\n              <p className=\"text-2xl font-bold text-gray-900 mt-1\">\r\n                {summary.activeInvestments}\r\n              </p>\r\n              <p className=\"text-xs text-gray-500 mt-1\">\r\n                {summary.pendingInvestments} pending\r\n              </p>\r\n            </div>\r\n            <div className=\"p-3 bg-green-100 rounded-lg\">\r\n              <CheckCircle className=\"w-6 h-6 text-green-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6 border-l-4 border-orange-500\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Avg Investment</p>\r\n              <p className=\"text-2xl font-bold text-gray-900 mt-1\">\r\n                {formatCurrency(summary.averageInvestment)}\r\n              </p>\r\n              <p className=\"text-xs text-gray-500 mt-1\">\r\n                per investor\r\n              </p>\r\n            </div>\r\n            <div className=\"p-3 bg-orange-100 rounded-lg\">\r\n              <TrendingUp className=\"w-6 h-6 text-orange-600\" />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Search</label>\r\n            <div className=\"relative\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search investments...\"\r\n                value={filters.search}\r\n                onChange={(e) => handleFilterChange('search', e.target.value)}\r\n                className=\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Status</label>\r\n            <select\r\n              value={filters.status}\r\n              onChange={(e) => handleFilterChange('status', e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n            >\r\n              <option value=\"\">All Status</option>\r\n              <option value=\"active\">Active</option>\r\n              <option value=\"pending\">Pending</option>\r\n              <option value=\"completed\">Completed</option>\r\n              <option value=\"cancelled\">Cancelled</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Investments Table */}\r\n      <Card className=\"overflow-hidden\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full\">\r\n            <thead className=\"bg-gray-50\">\r\n              <tr>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Investor\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Property\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Amount\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Tokens\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Status\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Date\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n              {filteredInvestments.length === 0 ? (\r\n                <tr>\r\n                  <td colSpan=\"6\" className=\"px-6 py-12 text-center\">\r\n                    <TrendingUp className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No investments found</h3>\r\n                    <p className=\"text-gray-500\">No investments match your current filters</p>\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                filteredInvestments.map((investment) => {\r\n                  const amount = getInvestmentAmount(investment);\r\n                  const tokens = getTokenCount(investment);\r\n                  const investorName = getInvestorName(investment);\r\n                  const propertyName = getPropertyName(investment);\r\n                  \r\n                  return (\r\n                    <tr key={investment.id || investment.displayCode} className=\"hover:bg-gray-50\">\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div className=\"flex items-center\">\r\n                          <User className=\"w-4 h-4 text-gray-400 mr-2\" />\r\n                          <div>\r\n                            <div className=\"text-sm font-medium text-gray-900\">\r\n                              {investorName}\r\n                            </div>\r\n                            {investment.user?.email && (\r\n                              <div className=\"text-xs text-gray-500\">\r\n                                {investment.user.email}\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div className=\"flex items-center\">\r\n                          <Building2 className=\"w-4 h-4 text-gray-400 mr-2\" />\r\n                          <div>\r\n                            <div className=\"text-sm text-gray-900\">\r\n                              {propertyName}\r\n                            </div>\r\n                            {investment.property?.displayCode && (\r\n                              <div className=\"text-xs text-gray-500\">\r\n                                {investment.property.displayCode}\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div className=\"text-sm font-semibold text-green-600\">\r\n                          {formatCurrency(amount)}\r\n                        </div>\r\n                        {investment.displayCode && (\r\n                          <div className=\"text-xs text-gray-500 font-mono\">\r\n                            {investment.displayCode}\r\n                          </div>\r\n                        )}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <span className=\"text-sm font-semibold text-purple-600\">\r\n                          {tokens.toLocaleString()} tokens\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        {getStatusBadge(investment.status)}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div className=\"flex items-center text-sm text-gray-500\">\r\n                          <Calendar className=\"w-3 h-3 mr-2 text-gray-400\" />\r\n                          {formatDate(investment.created_at || investment.createdAt)}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrgInvestmentsManagement;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}