{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mughal_Here\\\\Desktop\\\\HMR Project\\\\frontend\\\\src\\\\pages\\\\Portfolio.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useQuery, useQueryClient } from 'react-query';\nimport { TrendingUp, DollarSign, Coins, PieChart, ArrowUpRight, Building2 } from 'lucide-react';\nimport { useUser } from '../contexts/UserContext';\nimport { portfolioAPI, usersAPI, walletAPI } from '../services/api';\nimport Layout from '../components/Layout/Layout';\nimport PortfolioCard from '../components/PortfolioCard';\nimport Button from '../components/ui/Button';\nimport Card from '../components/ui/Card';\nimport { formatCurrency, formatPercentage } from '../utils/formatLocation';\nimport { demoUser, demoPortfolio } from '../services/demoData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Portfolio = () => {\n  _s();\n  var _portfolioData$data, _summaryData$data, _profileData$data, _statsData$data, _tokenHoldingsData$da, _tokenHoldings$summar, _tokenHoldings$summar2, _tokenHoldings$summar3, _tokenHoldings$summar4, _portfolio$investment;\n  const {\n    currentUser\n  } = useUser();\n  const userId = currentUser === null || currentUser === void 0 ? void 0 : currentUser.id;\n  const [activeTab, setActiveTab] = useState('overview');\n  const queryClient = useQueryClient();\n\n  // Invalidate queries when user changes\n  useEffect(() => {\n    queryClient.invalidateQueries(['portfolio', userId]);\n    queryClient.invalidateQueries(['portfolio-summary', userId]);\n    queryClient.invalidateQueries(['profile', userId]);\n    queryClient.invalidateQueries(['token-holdings', userId]);\n  }, [userId, queryClient]);\n\n  // Fetch portfolio data\n  const {\n    data: portfolioData,\n    isLoading: portfolioLoading\n  } = useQuery(['portfolio', userId], () => portfolioAPI.getPortfolio(userId), {\n    enabled: !!userId\n  });\n\n  // Fetch portfolio summary\n  const {\n    data: summaryData,\n    isLoading: summaryLoading\n  } = useQuery(['portfolio-summary', userId], () => portfolioAPI.getSummary(userId), {\n    enabled: !!userId\n  });\n\n  // Fetch user stats (same as Dashboard)\n  const {\n    data: statsData,\n    isLoading: statsLoading,\n    refetch: refetchStats\n  } = useQuery(['portfolio-stats', userId], () => portfolioAPI.getStats(userId), {\n    enabled: !!userId,\n    staleTime: 0,\n    // Always fetch fresh data\n    cacheTime: 0,\n    // Don't cache the data\n    refetchOnWindowFocus: true // Refetch when window gains focus\n  });\n\n  // Fetch user profile for additional data\n  const {\n    data: profileData\n  } = useQuery(['user-profile', userId], () => usersAPI.getProfileById(userId), {\n    enabled: !!userId\n  });\n\n  // Fetch token holdings\n  const {\n    data: tokenHoldingsData,\n    isLoading: tokenHoldingsLoading\n  } = useQuery(['token-holdings', userId], () => walletAPI.getHoldings(userId), {\n    enabled: !!userId\n  });\n  const portfolio = (portfolioData === null || portfolioData === void 0 ? void 0 : (_portfolioData$data = portfolioData.data) === null || _portfolioData$data === void 0 ? void 0 : _portfolioData$data.data) || {};\n  const summary = (summaryData === null || summaryData === void 0 ? void 0 : (_summaryData$data = summaryData.data) === null || _summaryData$data === void 0 ? void 0 : _summaryData$data.data) || {};\n  const profile = (profileData === null || profileData === void 0 ? void 0 : (_profileData$data = profileData.data) === null || _profileData$data === void 0 ? void 0 : _profileData$data.data) || {};\n  const userStats = (statsData === null || statsData === void 0 ? void 0 : (_statsData$data = statsData.data) === null || _statsData$data === void 0 ? void 0 : _statsData$data.data) || (statsData === null || statsData === void 0 ? void 0 : statsData.data) || {};\n  const tokenHoldings = (tokenHoldingsData === null || tokenHoldingsData === void 0 ? void 0 : (_tokenHoldingsData$da = tokenHoldingsData.data) === null || _tokenHoldingsData$da === void 0 ? void 0 : _tokenHoldingsData$da.data) || {};\n\n  // Debug logging\n  console.log('Portfolio - Portfolio data:', portfolio);\n  console.log('Portfolio - Summary data:', summary);\n  console.log('Portfolio - Profile data:', profile);\n  if (portfolioLoading || summaryLoading || statsLoading || tokenHoldingsLoading) {\n    return /*#__PURE__*/_jsxDEV(Layout, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"min-h-screen bg-gray-50 py-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-pulse\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-8 bg-gray-300 rounded w-1/4 mb-8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\",\n              children: [1, 2, 3].map(i => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"h-32 bg-gray-300 rounded\"\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n              children: [1, 2, 3, 4, 5, 6].map(i => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"h-64 bg-gray-300 rounded\"\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Early return if no user is selected\n  if (!currentUser) {\n    return /*#__PURE__*/_jsxDEV(Layout, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center min-h-screen\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: \"Loading user data...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-8 flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-3xl font-bold text-gray-900 mb-2\",\n              children: \"My Portfolio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: \"Track your real estate investments and returns\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              as: \"a\",\n              href: \"/wallet?buyTokens=1\",\n              className: \"bg-green-600 hover:bg-green-700\",\n              children: \"View All Properties\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => refetchStats(),\n              variant: \"outline\",\n              className: \"ml-0\",\n              children: \"Refresh Stats\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            className: \"p-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-medium text-gray-600\",\n                  children: \"Total Investment\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-2xl font-bold text-gray-900\",\n                  children: formatCurrency(userStats.totalInvestment || ((_tokenHoldings$summar = tokenHoldings.summary) === null || _tokenHoldings$summar === void 0 ? void 0 : _tokenHoldings$summar.total_invested_pkr) || summary.totalInvestment || 0)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-3 bg-blue-100 rounded-full\",\n                children: /*#__PURE__*/_jsxDEV(DollarSign, {\n                  className: \"w-6 h-6 text-blue-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            className: \"p-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-medium text-gray-600\",\n                  children: \"Current Value\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-2xl font-bold text-gray-900\",\n                  children: formatCurrency(userStats.currentValue || ((_tokenHoldings$summar2 = tokenHoldings.summary) === null || _tokenHoldings$summar2 === void 0 ? void 0 : _tokenHoldings$summar2.total_current_value_pkr) || summary.currentValue || 0)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-3 bg-green-100 rounded-full\",\n                children: /*#__PURE__*/_jsxDEV(TrendingUp, {\n                  className: \"w-6 h-6 text-green-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            className: \"p-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-medium text-gray-600\",\n                  children: \"Total ROI\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-2xl font-bold text-green-600\",\n                  children: formatPercentage(userStats.totalROI || summary.totalROI || 0)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-3 bg-purple-100 rounded-full\",\n                children: /*#__PURE__*/_jsxDEV(PieChart, {\n                  className: \"w-6 h-6 text-purple-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex border-b border-gray-200 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `px-4 py-2 font-medium text-sm ${activeTab === 'overview' ? 'border-b-2 border-primary-600 text-primary-600' : 'text-gray-500 hover:text-gray-700'}`,\n            onClick: () => setActiveTab('overview'),\n            children: \"Overview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `px-4 py-2 font-medium text-sm ${activeTab === 'tokens' ? 'border-b-2 border-primary-600 text-primary-600' : 'text-gray-500 hover:text-gray-700'}`,\n            onClick: () => setActiveTab('tokens'),\n            children: \"My Investments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), activeTab === 'overview' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            className: \"p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-900 mb-4\",\n              children: \"Performance Overview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-64 bg-gray-100 rounded-lg flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500\",\n                children: \"Performance chart will be displayed here\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(Card, {\n              className: \"p-4 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(Coins, {\n                className: \"w-8 h-8 text-blue-600 mx-auto mb-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-gray-900\",\n                children: parseFloat(((_tokenHoldings$summar3 = tokenHoldings.summary) === null || _tokenHoldings$summar3 === void 0 ? void 0 : _tokenHoldings$summar3.total_tokens) || 0).toFixed(2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Total Tokens\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Card, {\n              className: \"p-4 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(Building2, {\n                className: \"w-8 h-8 text-green-600 mx-auto mb-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-gray-900\",\n                children: userStats.activeInvestments || ((_tokenHoldings$summar4 = tokenHoldings.summary) === null || _tokenHoldings$summar4 === void 0 ? void 0 : _tokenHoldings$summar4.total_holdings) || ((_portfolio$investment = portfolio.investments) === null || _portfolio$investment === void 0 ? void 0 : _portfolio$investment.length) || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Properties\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Card, {\n              className: \"p-4 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(ArrowUpRight, {\n                className: \"w-8 h-8 text-purple-600 mx-auto mb-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-gray-900\",\n                children: formatPercentage(userStats.totalROI || summary.totalROI || 0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Average ROI\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Card, {\n              className: \"p-4 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                className: \"w-8 h-8 text-orange-600 mx-auto mb-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-gray-900\",\n                children: formatCurrency((userStats.currentValue || summary.currentValue || 0) - (userStats.totalInvestment || summary.totalInvestment || 0))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Total Gains\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 15\n          }, this), tokenHoldings.holdings && tokenHoldings.holdings.length > 0 && /*#__PURE__*/_jsxDEV(Card, {\n            className: \"p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold text-gray-900\",\n                children: \"My Investments\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline\",\n                onClick: () => setActiveTab('tokens'),\n                children: \"View All\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: tokenHoldings.holdings.slice(0, 3).map(holding => {\n                const gainLoss = parseFloat(holding.current_value_pkr || 0) - parseFloat(holding.total_invested_pkr || 0);\n                const gainLossPercentage = parseFloat(holding.total_invested_pkr || 0) > 0 ? gainLoss / parseFloat(holding.total_invested_pkr || 0) * 100 : 0;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"border rounded-lg p-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"font-semibold text-gray-900\",\n                        children: holding.title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 281,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-sm text-gray-600\",\n                        children: [holding.location_city, \", \", holding.location_state]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 282,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 280,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-right\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-sm text-gray-500\",\n                        children: \"Current Value\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 285,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"font-semibold\",\n                        children: formatCurrency(holding.current_value_pkr || 0)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 286,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(Button, {\n                        as: \"a\",\n                        href: `/wallet?buyTokens=1&propertyId=${holding.property_id}`,\n                        className: \"mt-2 bg-green-600 hover:bg-green-700 py-1 px-3 text-sm\",\n                        children: \"Invest\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 287,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 284,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-2 md:grid-cols-4 gap-4 mt-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-500\",\n                        children: \"Tokens\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 292,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"font-medium\",\n                        children: parseFloat(holding.tokens_owned || 0).toFixed(2)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 293,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 291,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-500\",\n                        children: \"Invested\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 296,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"font-medium\",\n                        children: formatCurrency(holding.total_invested_pkr || 0)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 297,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 295,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-500\",\n                        children: \"Gain/Loss\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 300,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: `font-medium ${gainLoss >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                        children: [formatCurrency(gainLoss), \" (\", gainLossPercentage.toFixed(2), \"%)\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 301,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 299,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"hidden md:block\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 305,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 27\n                  }, this)]\n                }, holding.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this), activeTab === 'tokens' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [tokenHoldings.summary && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(Card, {\n              className: \"p-4 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(Coins, {\n                className: \"w-8 h-8 text-blue-600 mx-auto mb-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-gray-900\",\n                children: tokenHoldings.summary.total_holdings || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Properties\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Card, {\n              className: \"p-4 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(Building2, {\n                className: \"w-8 h-8 text-green-600 mx-auto mb-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-gray-900\",\n                children: parseFloat(tokenHoldings.summary.total_tokens || 0).toFixed(2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Total Tokens\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Card, {\n              className: \"p-4 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                className: \"w-8 h-8 text-purple-600 mx-auto mb-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-gray-900\",\n                children: formatCurrency(tokenHoldings.summary.total_invested_pkr || 0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Total Invested\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Card, {\n              className: \"p-4 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n                className: \"w-8 h-8 text-orange-600 mx-auto mb-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-gray-900\",\n                children: formatCurrency(tokenHoldings.summary.total_current_value_pkr || 0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Current Value\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 17\n          }, this), tokenHoldings.holdings && tokenHoldings.holdings.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: tokenHoldings.holdings.map(holding => {\n              const gainLoss = parseFloat(holding.current_value_pkr || 0) - parseFloat(holding.total_invested_pkr || 0);\n              const gainLossPercentage = parseFloat(holding.total_invested_pkr || 0) > 0 ? gainLoss / parseFloat(holding.total_invested_pkr || 0) * 100 : 0;\n              return /*#__PURE__*/_jsxDEV(Card, {\n                className: \"p-6\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-start\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"text-lg font-semibold text-gray-900 mb-2\",\n                      children: holding.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 365,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600 mb-4\",\n                      children: [holding.location_city, \", \", holding.location_state]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 368,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"grid grid-cols-2 md:grid-cols-4 gap-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-500\",\n                          children: \"Tokens Owned\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 374,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-lg font-semibold text-gray-900\",\n                          children: parseFloat(holding.tokens_owned || 0).toFixed(2)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 375,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 373,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-500\",\n                          children: \"Total Invested\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 380,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-lg font-semibold text-gray-900\",\n                          children: formatCurrency(holding.total_invested_pkr || 0)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 381,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 379,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-500\",\n                          children: \"Current Value\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 386,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-lg font-semibold text-gray-900\",\n                          children: formatCurrency(holding.current_value_pkr || 0)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 387,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 385,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-500\",\n                          children: \"Gain/Loss\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 392,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: `text-lg font-semibold ${gainLoss >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                          children: [formatCurrency(gainLoss), \" (\", gainLossPercentage.toFixed(2), \"%)\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 393,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 391,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 372,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 364,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 25\n                }, this)\n              }, holding.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 23\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(Card, {\n            className: \"p-12 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(Coins, {\n              className: \"w-16 h-16 text-gray-400 mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-900 mb-2\",\n              children: \"No Token Holdings Yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 mb-6\",\n              children: \"Start building your token portfolio by purchasing property tokens.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              as: \"a\",\n              href: \"/wallet\",\n              children: \"Buy Tokens\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n};\n_s(Portfolio, \"FNDZtplwsqytIz9lXMSz7s5zouI=\", false, function () {\n  return [useUser, useQueryClient, useQuery, useQuery, useQuery, useQuery, useQuery];\n});\n_c = Portfolio;\nexport default Portfolio;\nvar _c;\n$RefreshReg$(_c, \"Portfolio\");","map":{"version":3,"names":["React","useState","useEffect","useQuery","useQueryClient","TrendingUp","DollarSign","Coins","PieChart","ArrowUpRight","Building2","useUser","portfolioAPI","usersAPI","walletAPI","Layout","PortfolioCard","Button","Card","formatCurrency","formatPercentage","demoUser","demoPortfolio","jsxDEV","_jsxDEV","Portfolio","_s","_portfolioData$data","_summaryData$data","_profileData$data","_statsData$data","_tokenHoldingsData$da","_tokenHoldings$summar","_tokenHoldings$summar2","_tokenHoldings$summar3","_tokenHoldings$summar4","_portfolio$investment","currentUser","userId","id","activeTab","setActiveTab","queryClient","invalidateQueries","data","portfolioData","isLoading","portfolioLoading","getPortfolio","enabled","summaryData","summaryLoading","getSummary","statsData","statsLoading","refetch","refetchStats","getStats","staleTime","cacheTime","refetchOnWindowFocus","profileData","getProfileById","tokenHoldingsData","tokenHoldingsLoading","getHoldings","portfolio","summary","profile","userStats","tokenHoldings","console","log","children","className","fileName","_jsxFileName","lineNumber","columnNumber","map","i","as","href","onClick","variant","totalInvestment","total_invested_pkr","currentValue","total_current_value_pkr","totalROI","parseFloat","total_tokens","toFixed","activeInvestments","total_holdings","investments","length","holdings","slice","holding","gainLoss","current_value_pkr","gainLossPercentage","title","location_city","location_state","property_id","tokens_owned","_c","$RefreshReg$"],"sources":["C:/Users/Mughal_Here/Desktop/HMR Project/frontend/src/pages/Portfolio.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useQuery, useQueryClient } from 'react-query';\r\nimport { TrendingUp, DollarSign, Coins, PieChart, ArrowUpRight, Building2 } from 'lucide-react';\r\nimport { useUser } from '../contexts/UserContext';\r\nimport { portfolioAPI, usersAPI, walletAPI } from '../services/api';\r\nimport Layout from '../components/Layout/Layout';\r\nimport PortfolioCard from '../components/PortfolioCard';\r\nimport Button from '../components/ui/Button';\r\nimport Card from '../components/ui/Card';\r\nimport { formatCurrency, formatPercentage } from '../utils/formatLocation';\r\nimport { demoUser, demoPortfolio } from '../services/demoData';\r\n\r\nconst Portfolio = () => {\r\n  const { currentUser } = useUser();\r\n  const userId = currentUser?.id;\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  const queryClient = useQueryClient();\r\n\r\n  // Invalidate queries when user changes\r\n  useEffect(() => {\r\n    queryClient.invalidateQueries(['portfolio', userId]);\r\n    queryClient.invalidateQueries(['portfolio-summary', userId]);\r\n    queryClient.invalidateQueries(['profile', userId]);\r\n    queryClient.invalidateQueries(['token-holdings', userId]);\r\n  }, [userId, queryClient]);\r\n\r\n  // Fetch portfolio data\r\n  const { data: portfolioData, isLoading: portfolioLoading } = useQuery(\r\n    ['portfolio', userId],\r\n    () => portfolioAPI.getPortfolio(userId),\r\n    {\r\n      enabled: !!userId,\r\n    }\r\n  );\r\n\r\n  // Fetch portfolio summary\r\n  const { data: summaryData, isLoading: summaryLoading } = useQuery(\r\n    ['portfolio-summary', userId],\r\n    () => portfolioAPI.getSummary(userId),\r\n    {\r\n      enabled: !!userId,\r\n    }\r\n  );\r\n\r\n  // Fetch user stats (same as Dashboard)\r\n  const { data: statsData, isLoading: statsLoading, refetch: refetchStats } = useQuery(\r\n    ['portfolio-stats', userId],\r\n    () => portfolioAPI.getStats(userId),\r\n    { \r\n      enabled: !!userId,\r\n      staleTime: 0, // Always fetch fresh data\r\n      cacheTime: 0, // Don't cache the data\r\n      refetchOnWindowFocus: true // Refetch when window gains focus\r\n    }\r\n  );\r\n\r\n  // Fetch user profile for additional data\r\n  const { data: profileData } = useQuery(\r\n    ['user-profile', userId],\r\n    () => usersAPI.getProfileById(userId),\r\n    {\r\n      enabled: !!userId,\r\n    }\r\n  );\r\n\r\n  // Fetch token holdings\r\n  const { data: tokenHoldingsData, isLoading: tokenHoldingsLoading } = useQuery(\r\n    ['token-holdings', userId],\r\n    () => walletAPI.getHoldings(userId),\r\n    {\r\n      enabled: !!userId,\r\n    }\r\n  );\r\n\r\n  const portfolio = portfolioData?.data?.data || {};\r\n  const summary = summaryData?.data?.data || {};\r\n  const profile = profileData?.data?.data || {};\r\n  const userStats = statsData?.data?.data || statsData?.data || {};\r\n  const tokenHoldings = tokenHoldingsData?.data?.data || {};\r\n\r\n  // Debug logging\r\n  console.log('Portfolio - Portfolio data:', portfolio);\r\n  console.log('Portfolio - Summary data:', summary);\r\n  console.log('Portfolio - Profile data:', profile);\r\n\r\n\r\n  if (portfolioLoading || summaryLoading || statsLoading || tokenHoldingsLoading) { \r\n    return (\r\n      <Layout>\r\n        <div className=\"min-h-screen bg-gray-50 py-8\">\r\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n            <div className=\"animate-pulse\">\r\n              <div className=\"h-8 bg-gray-300 rounded w-1/4 mb-8\"></div>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n                {[1, 2, 3].map((i) => (\r\n                  <div key={i} className=\"h-32 bg-gray-300 rounded\"></div>\r\n                ))}\r\n              </div>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                {[1, 2, 3, 4, 5, 6].map((i) => (\r\n                  <div key={i} className=\"h-64 bg-gray-300 rounded\"></div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  // Early return if no user is selected\r\n  if (!currentUser) {\r\n    return (\r\n      <Layout>\r\n        <div className=\"flex items-center justify-center min-h-screen\">\r\n          <div className=\"text-center\">\r\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\r\n            <p className=\"text-gray-600\">Loading user data...</p>\r\n          </div>\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"min-h-screen bg-gray-50 py-8\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          {/* Header */}\r\n          <div className=\"mb-8 flex justify-between items-center\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">My Portfolio</h1>\r\n              <p className=\"text-gray-600\">\r\n                Track your real estate investments and returns\r\n              </p>\r\n            </div>\r\n            <div className=\"flex items-center gap-3\">\r\n              <Button as=\"a\" href=\"/wallet?buyTokens=1\" className=\"bg-green-600 hover:bg-green-700\">View All Properties</Button>\r\n              <Button \r\n                onClick={() => refetchStats()} \r\n                variant=\"outline\"\r\n                className=\"ml-0\"\r\n              >\r\n                Refresh Stats\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Summary Cards */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n            <Card className=\"p-6\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p className=\"text-sm font-medium text-gray-600\">Total Investment</p>\r\n                  <p className=\"text-2xl font-bold text-gray-900\">\r\n                    {formatCurrency(userStats.totalInvestment || tokenHoldings.summary?.total_invested_pkr || summary.totalInvestment || 0)}\r\n                  </p>\r\n                </div>\r\n                <div className=\"p-3 bg-blue-100 rounded-full\">\r\n                  <DollarSign className=\"w-6 h-6 text-blue-600\" />\r\n                </div>\r\n              </div>\r\n            </Card>\r\n\r\n            <Card className=\"p-6\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p className=\"text-sm font-medium text-gray-600\">Current Value</p>\r\n                  <p className=\"text-2xl font-bold text-gray-900\">\r\n                    {formatCurrency(userStats.currentValue || tokenHoldings.summary?.total_current_value_pkr || summary.currentValue || 0)}\r\n                  </p>\r\n                </div>\r\n                <div className=\"p-3 bg-green-100 rounded-full\">\r\n                  <TrendingUp className=\"w-6 h-6 text-green-600\" />\r\n                </div>\r\n              </div>\r\n            </Card>\r\n\r\n            <Card className=\"p-6\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p className=\"text-sm font-medium text-gray-600\">Total ROI</p>\r\n                  <p className=\"text-2xl font-bold text-green-600\">\r\n                    {formatPercentage(userStats.totalROI || summary.totalROI || 0)}\r\n                  </p>\r\n                </div>\r\n                <div className=\"p-3 bg-purple-100 rounded-full\">\r\n                  <PieChart className=\"w-6 h-6 text-purple-600\" />\r\n                </div>\r\n              </div>\r\n            </Card>\r\n          </div>\r\n\r\n          {/* Tabs */}\r\n          <div className=\"flex border-b border-gray-200 mb-6\">\r\n            <button\r\n              className={`px-4 py-2 font-medium text-sm ${\r\n                activeTab === 'overview'\r\n                  ? 'border-b-2 border-primary-600 text-primary-600'\r\n                  : 'text-gray-500 hover:text-gray-700'\r\n              }`}\r\n              onClick={() => setActiveTab('overview')}\r\n            >\r\n              Overview\r\n            </button>\r\n            <button\r\n              className={`px-4 py-2 font-medium text-sm ${\r\n                activeTab === 'tokens'\r\n                  ? 'border-b-2 border-primary-600 text-primary-600'\r\n                  : 'text-gray-500 hover:text-gray-700'\r\n              }`}\r\n              onClick={() => setActiveTab('tokens')}\r\n            >\r\n              My Investments\r\n            </button>\r\n          </div>\r\n\r\n          {/* Content */}\r\n          {activeTab === 'overview' && (\r\n            <div className=\"space-y-6\">\r\n              {/* Performance Chart Placeholder */}\r\n              <Card className=\"p-6\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Performance Overview</h3>\r\n                <div className=\"h-64 bg-gray-100 rounded-lg flex items-center justify-center\">\r\n                  <p className=\"text-gray-500\">Performance chart will be displayed here</p>\r\n                </div>\r\n              </Card>\r\n\r\n              {/* Quick Stats */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n                <Card className=\"p-4 text-center\">\r\n                  <Coins className=\"w-8 h-8 text-blue-600 mx-auto mb-2\" />\r\n                  <p className=\"text-2xl font-bold text-gray-900\">\r\n                    {parseFloat(tokenHoldings.summary?.total_tokens || 0).toFixed(2)}\r\n                  </p>\r\n                  <p className=\"text-sm text-gray-600\">Total Tokens</p>\r\n                </Card>\r\n                <Card className=\"p-4 text-center\">\r\n                  <Building2 className=\"w-8 h-8 text-green-600 mx-auto mb-2\" />\r\n                  <p className=\"text-2xl font-bold text-gray-900\">\r\n                    {userStats.activeInvestments || tokenHoldings.summary?.total_holdings || portfolio.investments?.length || 0}\r\n                  </p>\r\n                  <p className=\"text-sm text-gray-600\">Properties</p>\r\n                </Card>\r\n                <Card className=\"p-4 text-center\">\r\n                  <ArrowUpRight className=\"w-8 h-8 text-purple-600 mx-auto mb-2\" />\r\n                  <p className=\"text-2xl font-bold text-gray-900\">\r\n                    {formatPercentage(userStats.totalROI || summary.totalROI || 0)}\r\n                  </p>\r\n                  <p className=\"text-sm text-gray-600\">Average ROI</p>\r\n                </Card>\r\n                <Card className=\"p-4 text-center\">\r\n                  <DollarSign className=\"w-8 h-8 text-orange-600 mx-auto mb-2\" />\r\n                  <p className=\"text-2xl font-bold text-gray-900\">\r\n                    {formatCurrency(\r\n                      (userStats.currentValue || summary.currentValue || 0) - \r\n                      (userStats.totalInvestment || summary.totalInvestment || 0)\r\n                    )}\r\n                  </p>\r\n                  <p className=\"text-sm text-gray-600\">Total Gains</p>\r\n                </Card>\r\n              </div>\r\n\r\n              {/* My Investments preview on Overview */}\r\n              {tokenHoldings.holdings && tokenHoldings.holdings.length > 0 && (\r\n                <Card className=\"p-6\">\r\n                  <div className=\"flex items-center justify-between mb-4\">\r\n                    <h3 className=\"text-lg font-semibold text-gray-900\">My Investments</h3>\r\n                    <Button variant=\"outline\" onClick={() => setActiveTab('tokens')}>View All</Button>\r\n                  </div>\r\n                  <div className=\"space-y-4\">\r\n                    {tokenHoldings.holdings.slice(0, 3).map((holding) => {\r\n                      const gainLoss = parseFloat(holding.current_value_pkr || 0) - parseFloat(holding.total_invested_pkr || 0);\r\n                      const gainLossPercentage = parseFloat(holding.total_invested_pkr || 0) > 0 \r\n                        ? (gainLoss / parseFloat(holding.total_invested_pkr || 0)) * 100 \r\n                        : 0;\r\n                      return (\r\n                        <div key={holding.id} className=\"border rounded-lg p-4\">\r\n                          <div className=\"flex items-center justify-between\">\r\n                            <div>\r\n                              <h4 className=\"font-semibold text-gray-900\">{holding.title}</h4>\r\n                              <p className=\"text-sm text-gray-600\">{holding.location_city}, {holding.location_state}</p>\r\n                            </div>\r\n                            <div className=\"text-right\">\r\n                              <p className=\"text-sm text-gray-500\">Current Value</p>\r\n                              <p className=\"font-semibold\">{formatCurrency(holding.current_value_pkr || 0)}</p>\r\n                              <Button as=\"a\" href={`/wallet?buyTokens=1&propertyId=${holding.property_id}`} className=\"mt-2 bg-green-600 hover:bg-green-700 py-1 px-3 text-sm\">Invest</Button>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mt-3\">\r\n                            <div>\r\n                              <p className=\"text-xs text-gray-500\">Tokens</p>\r\n                              <p className=\"font-medium\">{parseFloat(holding.tokens_owned || 0).toFixed(2)}</p>\r\n                            </div>\r\n                            <div>\r\n                              <p className=\"text-xs text-gray-500\">Invested</p>\r\n                              <p className=\"font-medium\">{formatCurrency(holding.total_invested_pkr || 0)}</p>\r\n                            </div>\r\n                            <div>\r\n                              <p className=\"text-xs text-gray-500\">Gain/Loss</p>\r\n                              <p className={`font-medium ${gainLoss >= 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                                {formatCurrency(gainLoss)} ({gainLossPercentage.toFixed(2)}%)\r\n                              </p>\r\n                            </div>\r\n                            <div className=\"hidden md:block\" />\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </Card>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'tokens' && (\r\n            <div className=\"space-y-6\">\r\n              {/* Token Holdings Summary */}\r\n              {tokenHoldings.summary && (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\r\n                  <Card className=\"p-4 text-center\">\r\n                    <Coins className=\"w-8 h-8 text-blue-600 mx-auto mb-2\" />\r\n                    <p className=\"text-2xl font-bold text-gray-900\">\r\n                      {tokenHoldings.summary.total_holdings || 0}\r\n                    </p>\r\n                    <p className=\"text-sm text-gray-600\">Properties</p>\r\n                  </Card>\r\n                  <Card className=\"p-4 text-center\">\r\n                    <Building2 className=\"w-8 h-8 text-green-600 mx-auto mb-2\" />\r\n                    <p className=\"text-2xl font-bold text-gray-900\">\r\n                      {parseFloat(tokenHoldings.summary.total_tokens || 0).toFixed(2)}\r\n                    </p>\r\n                    <p className=\"text-sm text-gray-600\">Total Tokens</p>\r\n                  </Card>\r\n                  <Card className=\"p-4 text-center\">\r\n                    <DollarSign className=\"w-8 h-8 text-purple-600 mx-auto mb-2\" />\r\n                    <p className=\"text-2xl font-bold text-gray-900\">\r\n                      {formatCurrency(tokenHoldings.summary.total_invested_pkr || 0)}\r\n                    </p>\r\n                    <p className=\"text-sm text-gray-600\">Total Invested</p>\r\n                  </Card>\r\n                  <Card className=\"p-4 text-center\">\r\n                    <TrendingUp className=\"w-8 h-8 text-orange-600 mx-auto mb-2\" />\r\n                    <p className=\"text-2xl font-bold text-gray-900\">\r\n                      {formatCurrency(tokenHoldings.summary.total_current_value_pkr || 0)}\r\n                    </p>\r\n                    <p className=\"text-sm text-gray-600\">Current Value</p>\r\n                  </Card>\r\n                </div>\r\n              )}\r\n\r\n              {/* Token Holdings List */}\r\n              {tokenHoldings.holdings && tokenHoldings.holdings.length > 0 ? (\r\n                <div className=\"space-y-4\">\r\n                  {tokenHoldings.holdings.map((holding) => {\r\n                    const gainLoss = parseFloat(holding.current_value_pkr || 0) - parseFloat(holding.total_invested_pkr || 0);\r\n                    const gainLossPercentage = parseFloat(holding.total_invested_pkr || 0) > 0 \r\n                      ? (gainLoss / parseFloat(holding.total_invested_pkr || 0)) * 100 \r\n                      : 0;\r\n\r\n                    return (\r\n                      <Card key={holding.id} className=\"p-6\">\r\n                        <div className=\"flex justify-between items-start\">\r\n                          <div className=\"flex-1\">\r\n                            <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\r\n                              {holding.title}\r\n                            </h3>\r\n                            <p className=\"text-sm text-gray-600 mb-4\">\r\n                              {holding.location_city}, {holding.location_state}\r\n                            </p>\r\n                            \r\n                            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n                              <div>\r\n                                <p className=\"text-sm text-gray-500\">Tokens Owned</p>\r\n                                <p className=\"text-lg font-semibold text-gray-900\">\r\n                                  {parseFloat(holding.tokens_owned || 0).toFixed(2)}\r\n                                </p>\r\n                              </div>\r\n                              <div>\r\n                                <p className=\"text-sm text-gray-500\">Total Invested</p>\r\n                                <p className=\"text-lg font-semibold text-gray-900\">\r\n                                  {formatCurrency(holding.total_invested_pkr || 0)}\r\n                                </p>\r\n                              </div>\r\n                              <div>\r\n                                <p className=\"text-sm text-gray-500\">Current Value</p>\r\n                                <p className=\"text-lg font-semibold text-gray-900\">\r\n                                  {formatCurrency(holding.current_value_pkr || 0)}\r\n                                </p>\r\n                              </div>\r\n                              <div>\r\n                                <p className=\"text-sm text-gray-500\">Gain/Loss</p>\r\n                                <p className={`text-lg font-semibold ${gainLoss >= 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                                  {formatCurrency(gainLoss)} ({gainLossPercentage.toFixed(2)}%)\r\n                                </p>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </Card>\r\n                    );\r\n                  })}\r\n                </div>\r\n              ) : (\r\n                <Card className=\"p-12 text-center\">\r\n                  <Coins className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\r\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">No Token Holdings Yet</h3>\r\n                  <p className=\"text-gray-600 mb-6\">\r\n                    Start building your token portfolio by purchasing property tokens.\r\n                  </p>\r\n                  <Button as=\"a\" href=\"/wallet\">\r\n                    Buy Tokens\r\n                  </Button>\r\n                </Card>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Portfolio;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}